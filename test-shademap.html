<!doctype html>
<html>
  <head>
    <title>Test ShadeMap Import</title>
    <script src="./dist/mapbox-gl-shadow-simulator.umd.min.js"></script>
  </head>
  <body>
    <h1>ShadeMap Import Test</h1>
    <div id="result"></div>

    <script>
      const resultEl = document.getElementById("result");
      const logs = [];

      // Add log function
      function log(msg) {
        logs.push(msg);
        console.log(msg);
        resultEl.innerHTML = logs.join("<br>");
      }

      // Test 1: Check if ShadeMap is defined
      log("Test 1: typeof ShadeMap = " + typeof ShadeMap);

      // Test 2: Check if it's a constructor
      log(
        "Test 2: ShadeMap.name = " + (ShadeMap ? ShadeMap.name : "undefined"),
      );

      // Test 3: Check prototype
      log(
        "Test 3: Has prototype = " +
          (ShadeMap && ShadeMap.prototype ? "true" : "false"),
      );

      // Test 4: Check constructor property
      log(
        "Test 4: ShadeMap.prototype.constructor.name = " +
          (ShadeMap && ShadeMap.prototype && ShadeMap.prototype.constructor
            ? ShadeMap.prototype.constructor.name
            : "undefined"),
      );

      // Test 5: Try to instantiate (will fail without required params, but should give different error)
      try {
        const instance = new ShadeMap({ apiKey: "test" });
        log("Test 5: Instance created! typeof instance = " + typeof instance);
      } catch (e) {
        log("Test 5: Error creating instance: " + e.message);
      }

      log("");
      log("âœ… All tests completed!");
      log('If you see "ShadeMap is not a constructor", the fix didn\'t work.');
      log("If you see actual ShadeMap object/function info, the fix worked!");
    </script>
  </body>
</html>
